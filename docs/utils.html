<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.7.1" />
<title>utils API documentation</title>
<meta name="description" content="Utilities for the base window UI." />
<link href='https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.0/normalize.min.css' rel='stylesheet'>
<link href='https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/8.0.0/sanitize.min.css' rel='stylesheet'>
<link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css" rel="stylesheet">
<style>.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{font-weight:bold}#index h4 + ul{margin-bottom:.6em}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>utils</code></h1>
</header>
<section id="section-intro">
<p>Utilities for the base window UI.</p>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">&#34;&#34;&#34;Utilities for the base window UI.&#34;&#34;&#34;

import os

from PyQt5 import QtGui, QtCore, QtWidgets

from setup import LOCAL_PATH, LOG, PACKAGE_CONFIG

DEFAULT_STYLE = &#39;default&#39;
DEFAULT_PALETTE = &#39;default&#39;


def get_application_window():
    &#34;&#34;&#34;Get the top level window for the current application.

    Returns:
        (QObject): The main window of the application.
    &#34;&#34;&#34;
    return QtWidgets.QApplication.activeWindow()


def get_app_instance():
    &#34;&#34;&#34;Get the application instance if one exists.

    Args:
        None

    Returns:
        app (QApplication): The application instance or None
    &#34;&#34;&#34;
    return QtWidgets.QApplication.instance()


def create_app_instance():
    &#34;&#34;&#34;Create an app instance.

    Args:
        None

    Returns:
        (QApplication): The application instance.
    &#34;&#34;&#34;
    instance = get_app_instance()
    if not instance:
        return QtWidgets.QApplication([])
    else:
        return instance


def get_icons_path():
    &#34;&#34;&#34;Return the directory containing the icons.

    Args:
        None

    Returns:
        icons_path (str): Path to the icons folder.
    &#34;&#34;&#34;
    return os.path.join(
        os.path.dirname(__file__), PACKAGE_CONFIG[&#39;icons_location&#39;]
    )


def get_styles_path():
    &#34;&#34;&#34;Return the directory containing the styles.

    Args:
        None

    Returns:
        styles_path (str): Path to the styles folder.
    &#34;&#34;&#34;
    return os.path.join(
        os.path.dirname(__file__), PACKAGE_CONFIG[&#39;styles_location&#39;]
    )


def get_palettes_path():
    &#34;&#34;&#34;Return the directory containing the palettes.

    Args:
        None

    Returns:
        palettes_path (str): Path to the palettes folder.
    &#34;&#34;&#34;
    return os.path.join(
        get_styles_path(), PACKAGE_CONFIG[&#39;palettes_location&#39;]
    )


def get_style(style):
    &#34;&#34;&#34;Get the data from the stylesheet.

    Args:
        style (str): The path to or name of a style file.

    Returns:
        style (str): The stylesheet data.
    &#34;&#34;&#34;
    # Check if the style argument is a path to a file
    if os.path.exists(style):
        style_file = style

    # If not, look for the style locally
    else:
        styles_path = get_styles_path()
        style_file = os.path.join(styles_path, style + &#39;.qss&#39;)
        if not os.path.exists(style_file):
            LOG.debug(
                &#39;No stylesheet exists at: {}; using default&#39;.format(style_file)
            )
            style_file = os.path.join(styles_path, DEFAULT_STYLE)

    with open(style_file, &#39;r&#39;) as inFile:
        style = inFile.read()

    return style


def get_palette(palette):
    &#34;&#34;&#34;Get the data from the pallette.

    Args:
        palette (str): The path to or name of a palette file.

    Returns:
        palettes (list): The palette data.
    &#34;&#34;&#34;
    # Check if the palette argument is a path to a file
    if os.path.exists(palette):
        palette_file = palette

    # If not, look for the palette locally
    else:
        palettes_path = get_palettes_path()
        palette_file = os.path.join(
            palettes_path, palette + &#39;.palette&#39;
        )
        if not os.path.exists(palette_file):
            LOG.debug(
                &#39;No palette exists at: {}; using default&#39;.format(palette_file))
            palette_file = os.path.join(palettes_path, DEFAULT_PALETTE)

    with open(palette_file, &#39;r&#39;) as inFile:
        palettes = inFile.readlines()

    palettes.sort(key=len, reverse=True)

    return palettes


def get_stylesheet(style=&#34;&#34;, palette=&#34;&#34;):
    &#34;&#34;&#34;Parse the stylesheet with the palette.

    Args:
        style (str): Name of the style
        palette (str): Name of the palette

    Return:
        stylesheet (str): The stylesheet to apply to the UI
    &#34;&#34;&#34;
    style = get_style(style)
    palettes = get_palette(palette)

    for palette in palettes:
        attribute, color = palette.split(&#39;=&#39;)
        style = style.replace(attribute, color.strip())

    stylesheet = style.replace(&#39;@icons_path&#39;, get_icons_path())

    return stylesheet


def get_package_config():
    &#34;&#34;&#34;Return the package config.

    Args:
        None

    Returns:
        (dict): The package config.
    &#34;&#34;&#34;
    return PACKAGE_CONFIG


def find_fonts(font_folder=None, families=None):
    &#34;&#34;&#34;Find fonts based on the given folder and given families.

    If not folder is given, look for fonts locally.
    If no families are given, look for all valid fonts.

    Args:
        font_folder (str): Path to a folder containing font files.
        families (list): List of font names.

    Returns:
        fonts_to_load (list): A list of the font files to load.
    &#34;&#34;&#34;
    fonts_to_load = []
    if not font_folder:
        LOG.info(&#34;No font folder given, using package fonts.&#34;)
        return load_local_fonts(families)

    if not os.path.exists(font_folder):
        LOG.error(&#34;Font folder does not exist: {}&#34;.format(font_folder))
        return None

    if not os.path.isdir(font_folder):
        LOG.error(&#34;Font folder path is not a folder: {}&#34;.format(font_folder))
        return None

    for font in os.listdir(font_folder):
        if os.path.splitext(font)[1] not in PACKAGE_CONFIG[&#34;font_types&#34;]:
            continue

        if families:
            for family in families:
                if family.lower() in font.lower():
                    fonts_to_load.append(font)
        else:
            fonts_to_load.append(font)

    return fonts_to_load


def load_local_fonts(families=None):
    &#34;&#34;&#34;Load local fonts.

    If no families are given, look for all valid fonts.

    Args:
        families (list): List of font names.

    Returns:
        fonts_to_load (list): A list of the font files to load.
    &#34;&#34;&#34;
    fonts_to_load = []

    font_folder = os.path.join(
        LOCAL_PATH, PACKAGE_CONFIG[&#39;fonts_location&#39;]
    )

    font_folders = []
    for item in os.listdir(font_folder):
        folder_path = os.path.join(font_folder, item)
        if not os.path.isdir(folder_path):
            continue

        if families:
            if item.lower() not in families.lower():
                continue

        font_folders.append(folder_path)

    for folder in font_folders:
        for font in os.listdir(folder):
            fonts_to_load.append(os.path.join(folder, font))

    return fonts_to_load


def load_custom_fonts(font_folder=None, families=None):
    &#34;&#34;&#34;Load all the custom fonts found in the given folder.

    This adds the fonts to the QFontDatabase to be used later.

    It is recommended that you load each family seperately.

    Args:
        font_folder (str): Path to a folder containing font files.
        families (list): List of font names.

    Returns:
        font_ids (list): A list of the added font ids.
    &#34;&#34;&#34;
    font_ids = []
    fonts_to_load = find_fonts()

    for font in fonts_to_load:
        font_id = load_custom_font(os.path.abspath(font))
        if font_id:
            font_ids.append(font_id)

    return font_ids


def load_custom_font(font_file):
    &#34;&#34;&#34;Load a custom font from a file.

    This adds the font to the QFontDatabase to be used later.

    Args:
        font_file (str): Path to a font file.

    Returns:
        font_id (int): The id of the font.
    &#34;&#34;&#34;
    if not os.path.exists(font_file):
        LOG.error(&#34;Font file does not exist: {}&#34;.format(font_file))
        return None

    if os.path.splitext(font_file)[1] not in PACKAGE_CONFIG[&#34;font_types&#34;]:
        LOG.error(
            &#34;Font file is not an approved file type: {}&#34;.format(font_file)
        )
        LOG.error(
            &#34;Approved types are: {}&#34;.format(PACKAGE_CONFIG[&#34;font_types&#34;])
        )
        return None

    font_db = QtGui.QFontDatabase()
    font_id = font_db.addApplicationFont(font_file)

    return font_id


def move_to_center(window):
    &#34;&#34;&#34;Move the window to the center of the screen.

    Args:
        window (QMainWindow or any QWidget): Any object that inherits QWidget

    Returns:
        None
    &#34;&#34;&#34;
    screen_center = calculate_center()
    window_center = QtCore.QPoint(window.width() / 2, window.height() / 2)
    LOG.debug(&#34;window_center: {}&#34;.format(window_center))
    LOG.debug(&#34;window_x: {}&#34;.format(screen_center.x() - window_center.x()))
    LOG.debug(&#34;window_y: {}&#34;.format(screen_center.y() - window_center.y()))

    window.move(
        screen_center.x() - window_center.x(),
        screen_center.y() - window_center.y()
    )


def calculate_center():
    &#34;&#34;&#34;Calculate the center point of the active monitor.

    Args:
        None

    Returns:
        center (QPoint): (center x position, center y position)
    &#34;&#34;&#34;
    app = QtWidgets.QApplication.instance()

    if not app:
        raise RuntimeError(&#39;No currently running QApplication.&#39;)

    screen = app.desktop().screenNumber(app.desktop().cursor().pos())
    screen_resolution = app.desktop().screenGeometry(screen)
    LOG.debug(&#34;screen_resolution: {}&#34;.format(screen_resolution))

    screen_center = QtCore.QPoint(
        (screen_resolution.width() / 2) + screen_resolution.left(),
        (screen_resolution.height() / 2) + screen_resolution.top())

    LOG.debug(&#34;screen_center: {}&#34;.format(screen_center))

    return screen_center


def find_icon(icon_name):
    &#34;&#34;&#34;Get the path for an icon if it exists based on the name.

    Args:
        icon_name (str): Name of the icon.

    Returns:
        icon_path (str) or None: Path to the icon.
    &#34;&#34;&#34;
    # Check if a path was given
    if &#39;/&#39; in icon_name:
        icon_path = icon_name

    # Look for the icon locally
    else:
        icon_path = os.path.join(get_icons_path(), icon_name)

    # Ensure the icon exists
    if not os.path.exists(icon_path):
        LOG.error(&#34;Unable to find icon: {}&#34;.format(icon_name))
        return None

    return icon_path


def get_pixmap(icon_name):
    &#34;&#34;&#34;Get the icon if it exists from the name as a QPixmap.

    Args:
        icon_name (str): Name of the icon.

    Returns:
        (QPixmap) or None: Icon based on the name.
    &#34;&#34;&#34;
    icon_path = find_icon(icon_name)

    if icon_path:
        return QtGui.QPixmap(icon_path)
    else:
        return None


def get_icon(icon_name):
    &#34;&#34;&#34;Get the icon if it exists from the name as a QIcon.

    Args:
        icon_name (str): Name of the icon.

    Returns:
        (QIcon) or None: Icon based on the name.
    &#34;&#34;&#34;
    pixmap = get_pixmap(icon_name)

    if pixmap:
        return QtGui.QIcon(pixmap)
    else:
        return None


def load_widget_from_file(path):
    &#34;&#34;&#34;Load a widget from a .ui file.

    Args:
        path (str): Path to the .ui file.

    Returns:
        widget (QWidget) or None: The widget built from the file.
            If the file can&#39;t be loaded, returns None.
    &#34;&#34;&#34;
    from PyQt5.QtUiTools import QUiLoader

    # Attempt to load the file
    ui_file = QtCore.QFile(path)
    is_open = ui_file.open(QtCore.QFile.ReadOnly)
    if not is_open:
        LOG.error(&#39;Widget file cannot be loaded: {}&#39;.format(path))
        return None

    LOG.debug(&#39;Loading widget from file: {}&#39;.format(path))
    widget = QUiLoader().load(ui_file)
    ui_file.close()

    return widget</code></pre>
</details>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-functions">Functions</h2>
<dl>
<dt id="utils.calculate_center"><code class="name flex">
<span>def <span class="ident">calculate_center</span></span>(<span>)</span>
</code></dt>
<dd>
<section class="desc"><p>Calculate the center point of the active monitor.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>None</code></strong></dt>
<dd>&nbsp;</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><strong><code>center</code></strong> :&ensp;<code>QPoint</code></dt>
<dd>(center x position, center y position)</dd>
</dl></section>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def calculate_center():
    &#34;&#34;&#34;Calculate the center point of the active monitor.

    Args:
        None

    Returns:
        center (QPoint): (center x position, center y position)
    &#34;&#34;&#34;
    app = QtWidgets.QApplication.instance()

    if not app:
        raise RuntimeError(&#39;No currently running QApplication.&#39;)

    screen = app.desktop().screenNumber(app.desktop().cursor().pos())
    screen_resolution = app.desktop().screenGeometry(screen)
    LOG.debug(&#34;screen_resolution: {}&#34;.format(screen_resolution))

    screen_center = QtCore.QPoint(
        (screen_resolution.width() / 2) + screen_resolution.left(),
        (screen_resolution.height() / 2) + screen_resolution.top())

    LOG.debug(&#34;screen_center: {}&#34;.format(screen_center))

    return screen_center</code></pre>
</details>
</dd>
<dt id="utils.create_app_instance"><code class="name flex">
<span>def <span class="ident">create_app_instance</span></span>(<span>)</span>
</code></dt>
<dd>
<section class="desc"><p>Create an app instance.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>None</code></strong></dt>
<dd>&nbsp;</dd>
</dl>
<h2 id="returns">Returns</h2>
<p>(QApplication): The application instance.</p></section>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def create_app_instance():
    &#34;&#34;&#34;Create an app instance.

    Args:
        None

    Returns:
        (QApplication): The application instance.
    &#34;&#34;&#34;
    instance = get_app_instance()
    if not instance:
        return QtWidgets.QApplication([])
    else:
        return instance</code></pre>
</details>
</dd>
<dt id="utils.find_fonts"><code class="name flex">
<span>def <span class="ident">find_fonts</span></span>(<span>font_folder=None, families=None)</span>
</code></dt>
<dd>
<section class="desc"><p>Find fonts based on the given folder and given families.</p>
<p>If not folder is given, look for fonts locally.
If no families are given, look for all valid fonts.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>font_folder</code></strong> :&ensp;<code>str</code></dt>
<dd>Path to a folder containing font files.</dd>
<dt><strong><code>families</code></strong> :&ensp;<code>list</code></dt>
<dd>List of font names.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><strong><code>fonts_to_load</code></strong> :&ensp;<code>list</code></dt>
<dd>A list of the font files to load.</dd>
</dl></section>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def find_fonts(font_folder=None, families=None):
    &#34;&#34;&#34;Find fonts based on the given folder and given families.

    If not folder is given, look for fonts locally.
    If no families are given, look for all valid fonts.

    Args:
        font_folder (str): Path to a folder containing font files.
        families (list): List of font names.

    Returns:
        fonts_to_load (list): A list of the font files to load.
    &#34;&#34;&#34;
    fonts_to_load = []
    if not font_folder:
        LOG.info(&#34;No font folder given, using package fonts.&#34;)
        return load_local_fonts(families)

    if not os.path.exists(font_folder):
        LOG.error(&#34;Font folder does not exist: {}&#34;.format(font_folder))
        return None

    if not os.path.isdir(font_folder):
        LOG.error(&#34;Font folder path is not a folder: {}&#34;.format(font_folder))
        return None

    for font in os.listdir(font_folder):
        if os.path.splitext(font)[1] not in PACKAGE_CONFIG[&#34;font_types&#34;]:
            continue

        if families:
            for family in families:
                if family.lower() in font.lower():
                    fonts_to_load.append(font)
        else:
            fonts_to_load.append(font)

    return fonts_to_load</code></pre>
</details>
</dd>
<dt id="utils.find_icon"><code class="name flex">
<span>def <span class="ident">find_icon</span></span>(<span>icon_name)</span>
</code></dt>
<dd>
<section class="desc"><p>Get the path for an icon if it exists based on the name.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>icon_name</code></strong> :&ensp;<code>str</code></dt>
<dd>Name of the icon.</dd>
</dl>
<h2 id="returns">Returns</h2>
<p>icon_path (str) or None: Path to the icon.</p></section>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def find_icon(icon_name):
    &#34;&#34;&#34;Get the path for an icon if it exists based on the name.

    Args:
        icon_name (str): Name of the icon.

    Returns:
        icon_path (str) or None: Path to the icon.
    &#34;&#34;&#34;
    # Check if a path was given
    if &#39;/&#39; in icon_name:
        icon_path = icon_name

    # Look for the icon locally
    else:
        icon_path = os.path.join(get_icons_path(), icon_name)

    # Ensure the icon exists
    if not os.path.exists(icon_path):
        LOG.error(&#34;Unable to find icon: {}&#34;.format(icon_name))
        return None

    return icon_path</code></pre>
</details>
</dd>
<dt id="utils.get_app_instance"><code class="name flex">
<span>def <span class="ident">get_app_instance</span></span>(<span>)</span>
</code></dt>
<dd>
<section class="desc"><p>Get the application instance if one exists.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>None</code></strong></dt>
<dd>&nbsp;</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><strong><code>app</code></strong> :&ensp;<code>QApplication</code></dt>
<dd>The application instance or None</dd>
</dl></section>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def get_app_instance():
    &#34;&#34;&#34;Get the application instance if one exists.

    Args:
        None

    Returns:
        app (QApplication): The application instance or None
    &#34;&#34;&#34;
    return QtWidgets.QApplication.instance()</code></pre>
</details>
</dd>
<dt id="utils.get_application_window"><code class="name flex">
<span>def <span class="ident">get_application_window</span></span>(<span>)</span>
</code></dt>
<dd>
<section class="desc"><p>Get the top level window for the current application.</p>
<h2 id="returns">Returns</h2>
<p>(QObject): The main window of the application.</p></section>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def get_application_window():
    &#34;&#34;&#34;Get the top level window for the current application.

    Returns:
        (QObject): The main window of the application.
    &#34;&#34;&#34;
    return QtWidgets.QApplication.activeWindow()</code></pre>
</details>
</dd>
<dt id="utils.get_icon"><code class="name flex">
<span>def <span class="ident">get_icon</span></span>(<span>icon_name)</span>
</code></dt>
<dd>
<section class="desc"><p>Get the icon if it exists from the name as a QIcon.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>icon_name</code></strong> :&ensp;<code>str</code></dt>
<dd>Name of the icon.</dd>
</dl>
<h2 id="returns">Returns</h2>
<p>(QIcon) or None: Icon based on the name.</p></section>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def get_icon(icon_name):
    &#34;&#34;&#34;Get the icon if it exists from the name as a QIcon.

    Args:
        icon_name (str): Name of the icon.

    Returns:
        (QIcon) or None: Icon based on the name.
    &#34;&#34;&#34;
    pixmap = get_pixmap(icon_name)

    if pixmap:
        return QtGui.QIcon(pixmap)
    else:
        return None</code></pre>
</details>
</dd>
<dt id="utils.get_icons_path"><code class="name flex">
<span>def <span class="ident">get_icons_path</span></span>(<span>)</span>
</code></dt>
<dd>
<section class="desc"><p>Return the directory containing the icons.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>None</code></strong></dt>
<dd>&nbsp;</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><strong><code>icons_path</code></strong> :&ensp;<code>str</code></dt>
<dd>Path to the icons folder.</dd>
</dl></section>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def get_icons_path():
    &#34;&#34;&#34;Return the directory containing the icons.

    Args:
        None

    Returns:
        icons_path (str): Path to the icons folder.
    &#34;&#34;&#34;
    return os.path.join(
        os.path.dirname(__file__), PACKAGE_CONFIG[&#39;icons_location&#39;]
    )</code></pre>
</details>
</dd>
<dt id="utils.get_package_config"><code class="name flex">
<span>def <span class="ident">get_package_config</span></span>(<span>)</span>
</code></dt>
<dd>
<section class="desc"><p>Return the package config.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>None</code></strong></dt>
<dd>&nbsp;</dd>
</dl>
<h2 id="returns">Returns</h2>
<p>(dict): The package config.</p></section>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def get_package_config():
    &#34;&#34;&#34;Return the package config.

    Args:
        None

    Returns:
        (dict): The package config.
    &#34;&#34;&#34;
    return PACKAGE_CONFIG</code></pre>
</details>
</dd>
<dt id="utils.get_palette"><code class="name flex">
<span>def <span class="ident">get_palette</span></span>(<span>palette)</span>
</code></dt>
<dd>
<section class="desc"><p>Get the data from the pallette.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>palette</code></strong> :&ensp;<code>str</code></dt>
<dd>The path to or name of a palette file.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><strong><code>palettes</code></strong> :&ensp;<code>list</code></dt>
<dd>The palette data.</dd>
</dl></section>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def get_palette(palette):
    &#34;&#34;&#34;Get the data from the pallette.

    Args:
        palette (str): The path to or name of a palette file.

    Returns:
        palettes (list): The palette data.
    &#34;&#34;&#34;
    # Check if the palette argument is a path to a file
    if os.path.exists(palette):
        palette_file = palette

    # If not, look for the palette locally
    else:
        palettes_path = get_palettes_path()
        palette_file = os.path.join(
            palettes_path, palette + &#39;.palette&#39;
        )
        if not os.path.exists(palette_file):
            LOG.debug(
                &#39;No palette exists at: {}; using default&#39;.format(palette_file))
            palette_file = os.path.join(palettes_path, DEFAULT_PALETTE)

    with open(palette_file, &#39;r&#39;) as inFile:
        palettes = inFile.readlines()

    palettes.sort(key=len, reverse=True)

    return palettes</code></pre>
</details>
</dd>
<dt id="utils.get_palettes_path"><code class="name flex">
<span>def <span class="ident">get_palettes_path</span></span>(<span>)</span>
</code></dt>
<dd>
<section class="desc"><p>Return the directory containing the palettes.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>None</code></strong></dt>
<dd>&nbsp;</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><strong><code>palettes_path</code></strong> :&ensp;<code>str</code></dt>
<dd>Path to the palettes folder.</dd>
</dl></section>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def get_palettes_path():
    &#34;&#34;&#34;Return the directory containing the palettes.

    Args:
        None

    Returns:
        palettes_path (str): Path to the palettes folder.
    &#34;&#34;&#34;
    return os.path.join(
        get_styles_path(), PACKAGE_CONFIG[&#39;palettes_location&#39;]
    )</code></pre>
</details>
</dd>
<dt id="utils.get_pixmap"><code class="name flex">
<span>def <span class="ident">get_pixmap</span></span>(<span>icon_name)</span>
</code></dt>
<dd>
<section class="desc"><p>Get the icon if it exists from the name as a QPixmap.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>icon_name</code></strong> :&ensp;<code>str</code></dt>
<dd>Name of the icon.</dd>
</dl>
<h2 id="returns">Returns</h2>
<p>(QPixmap) or None: Icon based on the name.</p></section>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def get_pixmap(icon_name):
    &#34;&#34;&#34;Get the icon if it exists from the name as a QPixmap.

    Args:
        icon_name (str): Name of the icon.

    Returns:
        (QPixmap) or None: Icon based on the name.
    &#34;&#34;&#34;
    icon_path = find_icon(icon_name)

    if icon_path:
        return QtGui.QPixmap(icon_path)
    else:
        return None</code></pre>
</details>
</dd>
<dt id="utils.get_style"><code class="name flex">
<span>def <span class="ident">get_style</span></span>(<span>style)</span>
</code></dt>
<dd>
<section class="desc"><p>Get the data from the stylesheet.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>style</code></strong> :&ensp;<code>str</code></dt>
<dd>The path to or name of a style file.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><strong><code>style</code></strong> :&ensp;<code>str</code></dt>
<dd>The stylesheet data.</dd>
</dl></section>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def get_style(style):
    &#34;&#34;&#34;Get the data from the stylesheet.

    Args:
        style (str): The path to or name of a style file.

    Returns:
        style (str): The stylesheet data.
    &#34;&#34;&#34;
    # Check if the style argument is a path to a file
    if os.path.exists(style):
        style_file = style

    # If not, look for the style locally
    else:
        styles_path = get_styles_path()
        style_file = os.path.join(styles_path, style + &#39;.qss&#39;)
        if not os.path.exists(style_file):
            LOG.debug(
                &#39;No stylesheet exists at: {}; using default&#39;.format(style_file)
            )
            style_file = os.path.join(styles_path, DEFAULT_STYLE)

    with open(style_file, &#39;r&#39;) as inFile:
        style = inFile.read()

    return style</code></pre>
</details>
</dd>
<dt id="utils.get_styles_path"><code class="name flex">
<span>def <span class="ident">get_styles_path</span></span>(<span>)</span>
</code></dt>
<dd>
<section class="desc"><p>Return the directory containing the styles.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>None</code></strong></dt>
<dd>&nbsp;</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><strong><code>styles_path</code></strong> :&ensp;<code>str</code></dt>
<dd>Path to the styles folder.</dd>
</dl></section>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def get_styles_path():
    &#34;&#34;&#34;Return the directory containing the styles.

    Args:
        None

    Returns:
        styles_path (str): Path to the styles folder.
    &#34;&#34;&#34;
    return os.path.join(
        os.path.dirname(__file__), PACKAGE_CONFIG[&#39;styles_location&#39;]
    )</code></pre>
</details>
</dd>
<dt id="utils.get_stylesheet"><code class="name flex">
<span>def <span class="ident">get_stylesheet</span></span>(<span>style='', palette='')</span>
</code></dt>
<dd>
<section class="desc"><p>Parse the stylesheet with the palette.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>style</code></strong> :&ensp;<code>str</code></dt>
<dd>Name of the style</dd>
<dt><strong><code>palette</code></strong> :&ensp;<code>str</code></dt>
<dd>Name of the palette</dd>
</dl>
<h2 id="return">Return</h2>
<dl>
<dt><strong><code>stylesheet</code></strong> :&ensp;<code>str</code></dt>
<dd>The stylesheet to apply to the UI</dd>
</dl></section>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def get_stylesheet(style=&#34;&#34;, palette=&#34;&#34;):
    &#34;&#34;&#34;Parse the stylesheet with the palette.

    Args:
        style (str): Name of the style
        palette (str): Name of the palette

    Return:
        stylesheet (str): The stylesheet to apply to the UI
    &#34;&#34;&#34;
    style = get_style(style)
    palettes = get_palette(palette)

    for palette in palettes:
        attribute, color = palette.split(&#39;=&#39;)
        style = style.replace(attribute, color.strip())

    stylesheet = style.replace(&#39;@icons_path&#39;, get_icons_path())

    return stylesheet</code></pre>
</details>
</dd>
<dt id="utils.load_custom_font"><code class="name flex">
<span>def <span class="ident">load_custom_font</span></span>(<span>font_file)</span>
</code></dt>
<dd>
<section class="desc"><p>Load a custom font from a file.</p>
<p>This adds the font to the QFontDatabase to be used later.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>font_file</code></strong> :&ensp;<code>str</code></dt>
<dd>Path to a font file.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><strong><code>font_id</code></strong> :&ensp;<code>int</code></dt>
<dd>The id of the font.</dd>
</dl></section>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def load_custom_font(font_file):
    &#34;&#34;&#34;Load a custom font from a file.

    This adds the font to the QFontDatabase to be used later.

    Args:
        font_file (str): Path to a font file.

    Returns:
        font_id (int): The id of the font.
    &#34;&#34;&#34;
    if not os.path.exists(font_file):
        LOG.error(&#34;Font file does not exist: {}&#34;.format(font_file))
        return None

    if os.path.splitext(font_file)[1] not in PACKAGE_CONFIG[&#34;font_types&#34;]:
        LOG.error(
            &#34;Font file is not an approved file type: {}&#34;.format(font_file)
        )
        LOG.error(
            &#34;Approved types are: {}&#34;.format(PACKAGE_CONFIG[&#34;font_types&#34;])
        )
        return None

    font_db = QtGui.QFontDatabase()
    font_id = font_db.addApplicationFont(font_file)

    return font_id</code></pre>
</details>
</dd>
<dt id="utils.load_custom_fonts"><code class="name flex">
<span>def <span class="ident">load_custom_fonts</span></span>(<span>font_folder=None, families=None)</span>
</code></dt>
<dd>
<section class="desc"><p>Load all the custom fonts found in the given folder.</p>
<p>This adds the fonts to the QFontDatabase to be used later.</p>
<p>It is recommended that you load each family seperately.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>font_folder</code></strong> :&ensp;<code>str</code></dt>
<dd>Path to a folder containing font files.</dd>
<dt><strong><code>families</code></strong> :&ensp;<code>list</code></dt>
<dd>List of font names.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><strong><code>font_ids</code></strong> :&ensp;<code>list</code></dt>
<dd>A list of the added font ids.</dd>
</dl></section>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def load_custom_fonts(font_folder=None, families=None):
    &#34;&#34;&#34;Load all the custom fonts found in the given folder.

    This adds the fonts to the QFontDatabase to be used later.

    It is recommended that you load each family seperately.

    Args:
        font_folder (str): Path to a folder containing font files.
        families (list): List of font names.

    Returns:
        font_ids (list): A list of the added font ids.
    &#34;&#34;&#34;
    font_ids = []
    fonts_to_load = find_fonts()

    for font in fonts_to_load:
        font_id = load_custom_font(os.path.abspath(font))
        if font_id:
            font_ids.append(font_id)

    return font_ids</code></pre>
</details>
</dd>
<dt id="utils.load_local_fonts"><code class="name flex">
<span>def <span class="ident">load_local_fonts</span></span>(<span>families=None)</span>
</code></dt>
<dd>
<section class="desc"><p>Load local fonts.</p>
<p>If no families are given, look for all valid fonts.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>families</code></strong> :&ensp;<code>list</code></dt>
<dd>List of font names.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><strong><code>fonts_to_load</code></strong> :&ensp;<code>list</code></dt>
<dd>A list of the font files to load.</dd>
</dl></section>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def load_local_fonts(families=None):
    &#34;&#34;&#34;Load local fonts.

    If no families are given, look for all valid fonts.

    Args:
        families (list): List of font names.

    Returns:
        fonts_to_load (list): A list of the font files to load.
    &#34;&#34;&#34;
    fonts_to_load = []

    font_folder = os.path.join(
        LOCAL_PATH, PACKAGE_CONFIG[&#39;fonts_location&#39;]
    )

    font_folders = []
    for item in os.listdir(font_folder):
        folder_path = os.path.join(font_folder, item)
        if not os.path.isdir(folder_path):
            continue

        if families:
            if item.lower() not in families.lower():
                continue

        font_folders.append(folder_path)

    for folder in font_folders:
        for font in os.listdir(folder):
            fonts_to_load.append(os.path.join(folder, font))

    return fonts_to_load</code></pre>
</details>
</dd>
<dt id="utils.load_widget_from_file"><code class="name flex">
<span>def <span class="ident">load_widget_from_file</span></span>(<span>path)</span>
</code></dt>
<dd>
<section class="desc"><p>Load a widget from a .ui file.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>path</code></strong> :&ensp;<code>str</code></dt>
<dd>Path to the .ui file.</dd>
</dl>
<h2 id="returns">Returns</h2>
<p>widget (QWidget) or None: The widget built from the file.
If the file can't be loaded, returns None.</p></section>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def load_widget_from_file(path):
    &#34;&#34;&#34;Load a widget from a .ui file.

    Args:
        path (str): Path to the .ui file.

    Returns:
        widget (QWidget) or None: The widget built from the file.
            If the file can&#39;t be loaded, returns None.
    &#34;&#34;&#34;
    from PyQt5.QtUiTools import QUiLoader

    # Attempt to load the file
    ui_file = QtCore.QFile(path)
    is_open = ui_file.open(QtCore.QFile.ReadOnly)
    if not is_open:
        LOG.error(&#39;Widget file cannot be loaded: {}&#39;.format(path))
        return None

    LOG.debug(&#39;Loading widget from file: {}&#39;.format(path))
    widget = QUiLoader().load(ui_file)
    ui_file.close()

    return widget</code></pre>
</details>
</dd>
<dt id="utils.move_to_center"><code class="name flex">
<span>def <span class="ident">move_to_center</span></span>(<span>window)</span>
</code></dt>
<dd>
<section class="desc"><p>Move the window to the center of the screen.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>window</code></strong> :&ensp;<code>QMainWindow</code> or <code>any</code> <code>QWidget</code></dt>
<dd>Any object that inherits QWidget</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>None</code></dt>
<dd>&nbsp;</dd>
</dl></section>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def move_to_center(window):
    &#34;&#34;&#34;Move the window to the center of the screen.

    Args:
        window (QMainWindow or any QWidget): Any object that inherits QWidget

    Returns:
        None
    &#34;&#34;&#34;
    screen_center = calculate_center()
    window_center = QtCore.QPoint(window.width() / 2, window.height() / 2)
    LOG.debug(&#34;window_center: {}&#34;.format(window_center))
    LOG.debug(&#34;window_x: {}&#34;.format(screen_center.x() - window_center.x()))
    LOG.debug(&#34;window_y: {}&#34;.format(screen_center.y() - window_center.y()))

    window.move(
        screen_center.x() - window_center.x(),
        screen_center.y() - window_center.y()
    )</code></pre>
</details>
</dd>
</dl>
</section>
<section>
</section>
</article>
<nav id="sidebar">
<h1>Index</h1>
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3><a href="#header-functions">Functions</a></h3>
<ul class="">
<li><code><a title="utils.calculate_center" href="#utils.calculate_center">calculate_center</a></code></li>
<li><code><a title="utils.create_app_instance" href="#utils.create_app_instance">create_app_instance</a></code></li>
<li><code><a title="utils.find_fonts" href="#utils.find_fonts">find_fonts</a></code></li>
<li><code><a title="utils.find_icon" href="#utils.find_icon">find_icon</a></code></li>
<li><code><a title="utils.get_app_instance" href="#utils.get_app_instance">get_app_instance</a></code></li>
<li><code><a title="utils.get_application_window" href="#utils.get_application_window">get_application_window</a></code></li>
<li><code><a title="utils.get_icon" href="#utils.get_icon">get_icon</a></code></li>
<li><code><a title="utils.get_icons_path" href="#utils.get_icons_path">get_icons_path</a></code></li>
<li><code><a title="utils.get_package_config" href="#utils.get_package_config">get_package_config</a></code></li>
<li><code><a title="utils.get_palette" href="#utils.get_palette">get_palette</a></code></li>
<li><code><a title="utils.get_palettes_path" href="#utils.get_palettes_path">get_palettes_path</a></code></li>
<li><code><a title="utils.get_pixmap" href="#utils.get_pixmap">get_pixmap</a></code></li>
<li><code><a title="utils.get_style" href="#utils.get_style">get_style</a></code></li>
<li><code><a title="utils.get_styles_path" href="#utils.get_styles_path">get_styles_path</a></code></li>
<li><code><a title="utils.get_stylesheet" href="#utils.get_stylesheet">get_stylesheet</a></code></li>
<li><code><a title="utils.load_custom_font" href="#utils.load_custom_font">load_custom_font</a></code></li>
<li><code><a title="utils.load_custom_fonts" href="#utils.load_custom_fonts">load_custom_fonts</a></code></li>
<li><code><a title="utils.load_local_fonts" href="#utils.load_local_fonts">load_local_fonts</a></code></li>
<li><code><a title="utils.load_widget_from_file" href="#utils.load_widget_from_file">load_widget_from_file</a></code></li>
<li><code><a title="utils.move_to_center" href="#utils.move_to_center">move_to_center</a></code></li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc"><cite>pdoc</cite> 0.7.1</a>.</p>
</footer>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad()</script>
</body>
</html>